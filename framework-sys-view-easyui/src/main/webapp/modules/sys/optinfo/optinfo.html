
<div class="easyui-layout" id="optinfo_panel" fit="true" >

	<!-- <div data-options="region:'east', split: true, collapsible: false" style="width:30%" title="权限控制">
	</div> -->


<table url="system/optinfo/sub?field=id&field=text&field=pid&field=icon&field=url&field=isInToolbar&field=state&field=orderInd"
	idField="id" treeField="text"
	toolbar=".temp-toolbar" layoutH="0">
    <thead>
        <tr>
            <th id="e@name" data-options="field:'text'"width="20%">名称</th>
            <th id="e@encoding" data-options="field:'id'"width="10%">编码</th>
            <th id="e@icon" data-options="field:'icon', formatter:OptInfo.Format.Icon" align="center" width="5%">图标</th>
            <th id="e@link" data-options="field:'url', formatter:OptInfo.Format.Url"width="20%">链接</th>
        </tr>
    </thead>
</table>

<div class="temp-toolbar">
	<a iconCls="icon-add" href="modules/sys/optinfo/optinfo-info.html" trigger="none"
		target="dialog" rel="optinfo_add" title="新增顶级菜单" width="640" height="480" btnValue="添加"><p  id="e@link.topMenu">顶级菜单</p></a>
		
	<hr>

	<a iconCls="icon-add" href="modules/sys/optinfo/optinfo-info.html" trigger="single"
		target="dialog" rel="optinfo_add1" title="新增 {{text}} 下级菜单" width="640" height="480" btnValue="添加"><p  id="e@link.subMenu">下级菜单</p></a>
		
	<a  iconCls="icon-edit" href="modules/sys/optinfo/optinfo-info.html" trigger="single"
		target="dialog" rel="optinfo_edit" title="编辑 {{text}}" width="640" height="480" btnValue="更新"><p id="e@link.edit">编辑</p></a>
		
	<hr>
	
	<a iconCls="icon-base icon-base-gear" href="modules/sys/optinfo/optinfo-all.html" trigger="single"
		target="dialog" rel="optinfo_all" title="{{text}} 系统业务操作权限" width="760" height="580" btnValue="更新"><p  id="e@link.authorityOpt">操作权限</p></a>
		
	<hr>
	
	<a iconCls="icon-base icon-base-ban" trigger="single"
		target="confirm" rel="optinfo_remove" title="是否确定删除 {{text}}？"><p  id="e@btn.delete">删除</p></a>
</div>
</div>
<script>
	$.parser.onComplete = function(panel) {
		$.parser.onComplete = $.noop;
		
		requirejs([
		           'modules/sys/optinfo/ctrl/optinfo'
		          ], function(OptInfo) {
			window.OptInfo = new OptInfo('optinfo', panel);
			window.OptInfo.load(panel);
		});
	};

	setI18NText();
</script>